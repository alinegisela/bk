<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Cadastro de Material</title>
    </h:head>
    <h:body>
        <ui:include src="menu.xhtml"/>

        <h:form id="form">
            <p:wizard>
                <p:tab id="dadosMaterial" title="Materiais que minha instituição precisa"> 
                    <p:panel header="Escolha os materiais para doação e marque os de prioridade" >
                        <p:messages/>
                        <h:panelGrid columns="3">

                            <p:dataTable var="insumo" value="#{cInsumo.recuperarTodos()}" paginator="true" rows="5">
                                <p:column headerText="Nome" sortBy="#{insumo.tipo}">
                                    <h:outputText value="#{insumo.nome}"/>
                                </p:column>

                                <p:column headerText="Tipo">
                                    <h:outputText value="#{insumo.tipo}"/>
                                </p:column>
                                
                                <p:column headerText="Descrição">
                                    <h:outputText value="#{insumo.descricao}"/>
                                </p:column>

                                <p:column headerText="Prioridade">
                                    <p:selectBooleanCheckbox value="#{bMaterial.prioridade}"/>
                                    <!-- -->
                                </p:column>
                                
                                <p:column headerText="Add">
                                    <p:commandButton action="#{cMaterial.inserir(bMaterial.build(insumo.getCodigo()), cInstituicao.getinstituicaoSelecionada().cnpj)}"
                                                 ajax="false" title="Add"/>
                                </p:column>
                            </p:dataTable>

       


                        </h:panelGrid>  
                      
                    </p:panel>
                </p:tab>

                <!--
                <p:tab id="materialNecessario" title="Lista de Materiais">
                    <p:panel header="Selecione os materiais com maior prioridade">
                        <p:messages/>
                        <h:panelGrid>
                            <p:dataTable id="tabelaMaterialDoacao" value="#{controleMaterialDoacao.material}" var="item"
                                         rowKey="#{item.id}" paginator="true" rows="10" selectionMode="single"
                                         selection="#{cMaterial.insumo}">

                                <p:column sortBy="#{item.id}" filterBy="#{item.id}" headerText="Identificador" footerText="Identificador">
                                    <h:outputText value="#{item.id}"/>
                                </p:column>

                                <p:column sortBy="#{item.insumo}" filterBy="#{item.insumo}" headerText="Insumo" footerText="Insumo">
                                    <h:outputText value="#{item.insumo}"/>
                                </p:column>

                            </p:dataTable>  
                        </h:panelGrid>
                         <p:commandButton value="Cadastrar"  action="#{controleInstituicao.inserirInstituicao(cInstituicao.construirInstituicao())}"
                                     update="form" style="left:600px"/>
                    </p:panel>
                   
                </p:tab>
                -->


                <!--   NAO SEI FAZER ESTA SHIT OBG DE NADA
                <p:tab id="historicoDeDoacoes" title="Histórico de Doações">
                      <p:panel header="Seu histórico de recebidos: ">
                          <p:messages/>
                          <h:panelGrid>
                              <p:dataTable id="tabelaMaterialDoacao" value="#{controleMaterialDoacao.material}" var="item"
                                           rowKey="#{item.id}" paginator="true" rows="10" selectionMode="single"
                                           selection="#{cMaterial.insumo}">
  
                                  <p:column sortBy="#{item.id}" filterBy="#{item.id}" headerText="Identificador" footerText="Identificador">
                                      <h:outputText value="#{item.id}"/>
                                  </p:column>
  
                                  <p:column sortBy="#{item.insumo}" filterBy="#{item.insumo}" headerText="Insumo" footerText="Insumo">
                                      <h:outputText value="#{item.insumo}"/>
                                  </p:column>
  
                              </p:dataTable>  
                          </h:panelGrid>
                           <p:commandButton value="Cadastrar"  action="#{controleInstituicao.inserirInstituicao(cInstituicao.construirInstituicao())}"
                                       update="form" style="left:600px"/>
                      </p:panel>
                     
                  </p:tab> -->
            </p:wizard>
        </h:form>
    </h:body>
</html>


